# 프로젝트 개요 및 GPT 질문

## 📋 프로젝트 개요

### 프로젝트명
**Excel Live Arena** - 실시간 엑셀방송 팬페이지

### 프로젝트 목적
Next.js 14 기반의 실시간 라이브 스트리밍 팬페이지로, 현재는 "엑셀 방송"에 특화되어 있습니다. YouTube와 SOOP(아프리카TV) 플랫폼의 라이브 방송을 통합하여 표시하고, BJ(Broadcast Jockey) 랭킹 시스템을 운영합니다.

### 기술 스택
- **Framework**: Next.js 16 (App Router)
- **Styling**: Tailwind CSS v4
- **UI Components**: shadcn/ui
- **Icons**: Lucide React
- **Database**: Supabase (PostgreSQL + Realtime) - 선택사항 (Frontend-only 모드 지원)
- **State Management**: Zustand
- **TypeScript**: Full type safety
- **Charts**: Chart.js + react-chartjs-2
- **HTML Parsing**: Cheerio (SOOP 크롤링용)

### 주요 기능

#### 1. 실시간 라이브 방송 통합
- **YouTube Data API v3** 연동: 라이브 방송 자동 감지 및 동기화
- **SOOP(아프리카TV) API** 연동: 비공식 API 및 HTML 크롤링을 통한 라이브 방송 수집
- **멀티 플랫폼 플레이어**: YouTube, SOOP, Panda TV 통합 플레이어 (모달 형태)
- **실시간 필터링**: 현재 "엑셀 방송"만 필터링하여 표시
  - 포함 패턴: "엑셀 방송", "엑셀 라이브", "엑셀 생방송", "엑셀 방송중" 등
  - 제외 패턴: "엑셀 강의", "엑셀 튜토리얼", "엑셀 일정" 등 교육/일정 관련 콘텐츠

#### 2. BJ 랭킹 시스템
- **실시간 랭킹**: Supabase Realtime을 활용한 실시간 랭킹 업데이트
- **자동 점수 계산**: 라이브 방송 시간 × 시청자 수 × 가중치(0.1)로 자동 점수 계산
- **Vercel Cron**: 5분마다 자동 동기화 및 점수 계산
- **Podium UI**: TOP 3 BJ를 시각적으로 표시

#### 3. 관리자 기능
- **인라인 편집**: BJ 점수/순위 실시간 수정
- **BJ 관리**: BJ 추가/삭제, YouTube/SOOP 채널 연동
- **광고 관리**: 배너 광고, 팝업 광고 관리 (A/B 테스트, 타겟팅, 스케줄링 지원)
- **광고 통계**: Chart.js를 활용한 광고 통계 대시보드 (impressions, clicks, CTR)

#### 4. 사용자 기능
- **라이브 방송 알림**: 브라우저 알림 및 토스트 알림
- **즐겨찾기**: 라이브 목록에서 즐겨찾기 기능
- **정렬/검색**: 시청자 수, 시작 시간, 이름 기준 정렬 및 검색
- **자동 새로고침**: 30초마다 라이브 목록 자동 업데이트

#### 5. UI/UX
- **다크 모드**: 블랙 & 골드 테마 (고급스러운 디자인)
- **반응형 디자인**: 모바일, 태블릿, 데스크톱 지원
- **Skeleton UI**: 로딩 상태 표시
- **Toast 알림**: 사용자 피드백

### 현재 프로젝트 구조

```
src/
├── app/                    # Next.js App Router 페이지
│   ├── page.tsx           # 메인 페이지 (Hero 캐러셀, 라이브 그리드, 미니 랭킹)
│   ├── ranking/           # 랭킹 페이지 (랭킹 테이블 + Podium)
│   ├── live/              # 라이브 목록 페이지 (전체 라이브 스트림)
│   ├── live-list/         # 라이브 목록 (별도 페이지)
│   ├── admin/             # 관리자 페이지
│   │   ├── ranking/       # 랭킹 관리
│   │   └── live-list/     # 라이브 목록 관리
│   └── api/               # API Route Handlers
│       ├── sync-youtube/  # YouTube 동기화
│       ├── sync-soop/     # SOOP 동기화
│       ├── calculate-scores/ # 점수 계산
│       └── ad/            # 광고 관련 API
├── components/            # React 컴포넌트
│   ├── admin/             # 관리자 전용 컴포넌트
│   ├── ads/               # 광고 컴포넌트
│   └── ui/                # 공용 UI 컴포넌트
├── hooks/                 # Custom React Hooks
├── lib/                   # 유틸리티 및 서버 액션
│   ├── actions/           # Server Actions
│   └── utils/             # 유틸리티 함수
├── store/                 # Zustand 전역 상태
├── types/                 # TypeScript 타입 정의
└── data/                  # Mock 데이터
```

### 현재 필터링 로직

**YouTube 필터링** (`src/lib/actions/get-live-list.ts`):
- 검색어: "엑셀 방송", "엑셀 라이브", "엑셀 생방송", "엑셀 방송중", "엑셀" (일반)
- 포함 패턴: "엑셀 방송", "엑셀 라이브", "엑셀 생방송", "엑셀 방송중", "엑셀 스트리밍" 등
- 제외 패턴: "엑셀 강의", "엑셀 튜토리얼", "엑셀 일정", "엑셀 뉴스" 등

**SOOP 필터링**:
- YouTube와 동일한 필터링 로직 적용
- 방송 제목과 BJ 닉네임을 기준으로 필터링

### 데이터 흐름

1. **라이브 방송 수집**:
   - YouTube: YouTube Data API v3 → Search API → Videos API → 필터링
   - SOOP: 비공식 API 엔드포인트 시도 → HTML 크롤링 폴백 → 필터링

2. **점수 계산**:
   - Vercel Cron (5분마다) → `/api/calculate-scores` → 시청자 수 × 방송 시간 계산

3. **랭킹 업데이트**:
   - Supabase Realtime 구독 → Zustand Store 업데이트 → UI 자동 업데이트

4. **광고 표시**:
   - 페이지 로드 시 → `getActiveAds` → A/B 테스트, 타겟팅, 스케줄링 로직 적용 → 광고 표시

---

## ❓ GPT에게 질문할 내용

### 질문
**"현재 프로젝트는 '엑셀 방송'에 특화되어 있는데, 다른 주제/카테고리로 확장하거나 변경하는 것을 고려하고 있습니다. 어떤 방향으로 개선할 수 있을까요?"**

### 구체적인 고려사항

1. **다중 카테고리 지원**
   - 현재는 "엑셀 방송"만 필터링하는데, 여러 카테고리를 동시에 지원하는 방법
   - 예: "엑셀 방송", "파워포인트 방송", "워드 방송", "코딩 방송" 등
   - 사용자가 카테고리를 선택할 수 있는 UI 추가

2. **범용 라이브 스트리밍 플랫폼으로 전환**
   - 특정 주제에 종속되지 않고, 모든 라이브 스트리밍을 표시
   - 사용자가 관심 있는 주제를 설정하거나 검색할 수 있는 기능

3. **커뮤니티 기반 필터링**
   - 사용자가 태그나 카테고리를 추가할 수 있는 기능
   - 인기 태그, 추천 방송 등 커뮤니티 기능

4. **기술적 고려사항**
   - 현재 필터링 로직이 하드코딩되어 있는데, 동적으로 변경 가능하도록 개선
   - 데이터베이스에 카테고리/태그 정보 저장
   - 검색어와 필터링 패턴을 관리할 수 있는 관리자 기능

5. **UI/UX 개선**
   - 카테고리별 탭 또는 사이드바
   - 필터링 옵션 (플랫폼, 카테고리, 시청자 수 등)
   - 추천 시스템

### 현재 프로젝트의 강점
- ✅ 멀티 플랫폼 지원 (YouTube, SOOP)
- ✅ 실시간 업데이트 (Supabase Realtime)
- ✅ 관리자 기능 (BJ 관리, 광고 관리)
- ✅ 반응형 디자인
- ✅ 확장 가능한 아키텍처

### 개선이 필요한 부분
- ⚠️ 하드코딩된 필터링 로직 (엑셀 방송 전용)
- ⚠️ 카테고리/태그 시스템 부재
- ⚠️ 사용자 맞춤 설정 기능 부재
- ⚠️ 검색 기능의 한계 (현재는 라이브 목록에서만 검색)

---

## 💡 제안할 수 있는 개선 방향

### 방향 1: 다중 카테고리 시스템
- 데이터베이스에 `categories` 테이블 추가
- 각 BJ에 카테고리 할당
- 사용자가 카테고리를 선택하여 필터링
- 관리자가 카테고리별 검색어/필터링 패턴 설정

### 방향 2: 태그 기반 시스템
- BJ나 방송에 태그 추가
- 사용자가 태그로 검색/필터링
- 인기 태그 표시
- 자동 태그 추출 (AI 활용 가능)

### 방향 3: 범용 플랫폼으로 전환
- 모든 라이브 스트리밍 표시 (필터링 옵션 제공)
- 사용자 맞춤 설정 (관심 주제, 즐겨찾기 BJ 등)
- 추천 시스템 (시청 이력 기반)

### 방향 4: 하이브리드 접근
- 기본적으로 모든 라이브 스트리밍 표시
- 카테고리별 필터링 옵션 제공
- 사용자가 관심 있는 카테고리만 선택하여 볼 수 있음

---

## 🔍 GPT에게 구체적으로 물어볼 질문들

1. **아키텍처 관점**:
   - 현재 프로젝트를 다중 카테고리 시스템으로 확장하는 가장 효율적인 방법은?
   - 필터링 로직을 동적으로 관리할 수 있는 구조는?

2. **데이터베이스 설계**:
   - 카테고리/태그 시스템을 위한 최적의 스키마 설계는?
   - 기존 데이터를 마이그레이션하는 방법은?

3. **사용자 경험**:
   - 카테고리 선택 UI를 어떻게 설계하면 좋을까?
   - 필터링 옵션을 어떻게 제공하면 사용자 경험이 좋을까?

4. **성능 최적화**:
   - 다중 카테고리를 지원할 때 성능 이슈는?
   - 실시간 업데이트를 유지하면서 확장하는 방법은?

5. **구현 우선순위**:
   - 단계적으로 확장할 때 어떤 순서로 구현하는 것이 좋을까?
   - 최소한의 변경으로 최대 효과를 낼 수 있는 방법은?

---

## 📝 참고 정보

### 현재 환경 변수
```bash
# Supabase (선택사항)
NEXT_PUBLIC_SUPABASE_URL=...
NEXT_PUBLIC_SUPABASE_ANON_KEY=...
SUPABASE_URL=...
SUPABASE_SERVICE_ROLE_KEY=...

# YouTube API (선택사항)
YOUTUBE_API_KEY=...
```

### 주요 파일 위치
- 필터링 로직: `src/lib/actions/get-live-list.ts`
- 타입 정의: `src/types/bj.ts`
- 데이터베이스 스키마: `supabase-schema.sql`
- 관리자 페이지: `src/app/admin/ranking/page.tsx`

### 배포 환경
- Vercel (Cron Jobs 지원)
- Supabase (선택사항, Frontend-only 모드 지원)

---

이 문서를 GPT에게 제공하여 프로젝트 확장 방향에 대한 조언을 받을 수 있습니다.
